<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Submission Guide | DrugMechDB</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="DrugMechDB" href="/feed.xml">

    <script>
        
        fetch("sidebar-home_sidebar.html")
        .then(resp => resp.text())
        .then(html => document.getElementById("tg-sb-sidebar").innerHTML = html)
        .then(function () {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });
        })

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> DrugMechDB</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/SuLab/DrugMechDB" target="_blank" rel="noopener">GitHub</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concept Identifier Sources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="http://geneontology.org" target="_blank" rel="noopener">Gene Ontology (GO)</a></li>
                        
                        
                        
                        <li><a href="http://www.obofoundry.org/ontology/cl.html" target="_blank" rel="noopener">Cell Ontology</a></li>
                        
                        
                        
                        <li><a href="https://meshb.nlm.nih.gov/search" target="_blank" rel="noopener">MeSH Browser</a></li>
                        
                        
                        
                        <li><a href="https://www.ebi.ac.uk/chebi/" target="_blank" rel="noopener">ChEBI</a></li>
                        
                        
                        
                        <li><a href="https://go.drugbank.com" target="_blank" rel="noopener">DrugBank</a></li>
                        
                        
                        
                        <li><a href="https://www.ebi.ac.uk/interpro/" target="_blank" rel="noopener">InterPro</a></li>
                        
                        
                        
                        <li><a href="https://www.ebi.ac.uk/ols/ontologies/uberon" target="_blank" rel="noopener">Uberon</a></li>
                        
                        
                        
                        <li><a href="https://www.ebi.ac.uk/ols/ontologies/pr" target="_blank" rel="noopener">PRotein Ontology (PRO)</a></li>
                        
                        
                        
                        <li><a href="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi" target="_blank" rel="noopener">NCBI Taxonomy Browser</a></li>
                        
                        
                        
                        <li><a href="https://reactome.org" target="_blank" rel="noopener">Reactome Pathway Database</a></li>
                        
                        
                        
                        <li><a href="https://hpo.jax.org/app/" target="_blank" rel="noopener">Human Phenotype Ontology (HPO)</a></li>
                        
                        
                        
                        <li><a href="https://www.uniprot.org" target="_blank" rel="noopener">UniProt</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Submission Guide">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                
            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Submission Guide</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <h1 id="submission-guide">Submission Guide</h1>

<p>Submissions to DrugMechDB have now been converted to a new Github Actions system
which allows for automated integration of pull requests.</p>

<h4 id="contents">Contents</h4>

<ol>
  <li><a href="#prerequisites">Prerequisites</a>
    <ol>
      <li><a href="#enable-github-actions">Enable Github actions</a></li>
      <li><a href="#syncing-your-fork">Syncing your Fork</a></li>
    </ol>
  </li>
  <li><a href="#submission">Submission</a>
    <ol>
      <li><a href="#submitting-new-paths">Submitting new paths</a></li>
      <li><a href="#claiming-an-indication-group-for-curation">Claiming an indication group for curation</a></li>
    </ol>
  </li>
  <li><a href="#updates">Updates</a>
    <ol>
      <li><a href="#updating-an-existing-path">Updating an existing path</a></li>
    </ol>
  </li>
  <li><a href="#deletion">Deletion</a>
    <ol>
      <li><a href="#deleting-an-existing-path">Deleting an existing path</a></li>
    </ol>
  </li>
</ol>

<h2 id="prerequisites">Prerequisites</h2>

<h3 id="enable-github-actions">Enable Github Actions</h3>

<p>The first thing that is required to use the new submission system is the enabling of Github Actions for your account.
You can do so by clicking the ‘Actions’ tab and choosing to enable Github Actions.</p>

<h3 id="syncing-your-fork">Syncing your Fork</h3>

<p>Keeping your fork up to date before submitting new paths is critical to ensuring that merge conflicts are minimized.
For this reason, we have implemented an action that automatically checks
for updates and creates pull requests to your account when they are found.
You can also trigger this manually to get the latest updates before making
a Pull Request.</p>

<h3 id="manual-syncing-using-the-fork-sync-action">Manual Syncing using the Fork Sync action</h3>

<h4 id="click-the-actions-tab">Click the Actions Tab</h4>

<p><img src="/media/sync/1_actions.png" alt="Actions" /></p>

<p>This will bring you to the Github Actions page for this repository.</p>

<h4 id="click-sync-fork-action">Click Sync Fork action</h4>

<p><img src="/media/sync/2_sync_fork.png" alt="Sync Fork" /></p>

<h4 id="click-run-workflow">Click run workflow</h4>

<p><img src="/media/sync/3_run.png" alt="Run" /></p>

<p>After clicking <code class="language-plaintext highlighter-rouge">run workflow</code>, a confirmation box will come up, click to confirm.</p>

<h4 id="workflow-running">Workflow Running</h4>

<p>The workflow will appear with yellow coloring to signal that it is currently running.</p>

<p><img src="/media/sync/4_running.png" alt="Running" /></p>

<h4 id="new-pull-request">New Pull Request</h4>

<p>If differences are found, a new pull request will appear in the pull requests tab</p>

<p><img src="/media/sync/5_new_PR.png" alt="New Pull Request" /></p>

<h4 id="merge-the-new-request">Merge the new request</h4>

<p>Merge the new pull request to receive the changes.</p>

<p><img src="/media/sync/6_merge.png" alt="Merge" /></p>

<h2 id="submissions">Submissions</h2>

<h3 id="claiming-an-indication-group-for-curation">Claiming an indication group for curation</h3>

<p>Please use the <a href="https://github.com/SuLab/DrugMechDB/issues/new?assignees=&amp;labels=upwork&amp;template=indication-group-curation-claim.md&amp;title=Curating+indication+group+">issue template for claiming a group</a>
to claim a group of indications so that other curators do not work on the same indications.</p>

<p>The <code class="language-plaintext highlighter-rouge">.zip</code> file containing the full set of grouped indications can be <a href="https://github.com/SuLab/DrugMechDB/raw/main/dmdb_indications_grouped.zip">downloaded here</a>.</p>

<p>Before claiming, please ensure that the group you wish to claim has not been previously claimed or completed.
You can do this through searching the issues as shown in the image below.</p>

<p><img src="/media/new_claim/5_search_group.png" alt="Search issues" /></p>

<p>The following steps outline the claiming process</p>

<h4 id="1-go-to-the-projects-issues-page">1. Go to the project’s issues page</h4>
<p><img src="/media/new_claim/1_issue_page.png" alt="Issues page" /></p>

<h4 id="2-select-new-issue">2. Select ‘New Issue’</h4>
<p><img src="/media/new_claim/2_new_issue.png" alt="New issue" /></p>

<h4 id="3-choose-the-indication-group-curation-claim-template-and-click-get-started">3. Choose the ‘Indication group curation claim’ template and click ‘Get started’</h4>
<p><img src="/media/new_claim/3_claim_template.png" alt="Claim template" /></p>

<h4 id="4-please-add-the-group-number-to-end-of-the-issue-title">4. Please add the group number to end of the issue title</h4>
<p><img src="/media/new_claim/4_group_number.png" alt="Group Number" /></p>

<h4 id="5-include-the-group-number-in-the-text-as-well">5. Include the group number in the text as well</h4>
<p>Feel free to replace the boilerplate text that appears in the template.
<img src="/media/new_claim/6_change_text.png" alt="Change Text" /></p>

<h4 id="6-click-submit-new-issue">6. Click ‘Submit new issue’</h4>

<h3 id="submitting-new-paths">Submitting new paths.</h3>

<p>New paths are to be submitted with the <code class="language-plaintext highlighter-rouge">submission.yaml</code> file. However, as this file will be constantly reset to
empty after every submission, it is <strong>highly recommended</strong> that you work in a separate file locally
while curating and only commit to this file once all changes are finished and ready to be submitted as a Pull Request.</p>

<p>The following guide will walk you through the steps for submitting new paths.</p>

<h4 id="1-make-edits-to-submission-file-and-commit-changes">1. Make edits to submission file and commit changes</h4>
<p><img src="/media/submission/1_submission_file.png" alt="Submission File" /></p>

<p><img src="/media/submission/2_edit.png" alt="Edit Sub File" />
<img src="/media/submission/3_commit.png" alt="Commit Changes" /></p>

<p>Be sure and add a descriptive commit message.</p>

<h4 id="2-submit-a-pull-request">2. Submit a pull request</h4>
<p><img src="/media/submission/4_pull_request.png" alt="Pull request" />
<img src="/media/submission/5_create.png" alt="Create PR" />
<img src="/media/submission/6_description.png" alt="Submit PR" /></p>

<p>Again, please provide a description. If this submission corresponds to indications linked in one of the
issues, please provide either the issue number or the group number in the PR title.</p>

<h4 id="3-a-pull-request-will-now-trigger-github-actions-workflow">3. A pull request will now trigger Github actions Workflow</h4>

<p>This workflow will test the file and integrate changes.
<img src="/media/submission/6b_running.png" alt="Workflow is running" /></p>

<p>Yellow text indicates the workflow is running.</p>

<p>Green Check mark means that the workflow is complete and successful.  If this happens you don’t need to do
anything else.</p>

<p><img src="/media/submission/9_Complete.png" alt="Workflow Complete" /></p>

<h3 id="submission-error">Submission Error</h3>

<p>If there are errors in the submission file, the workflow will fail. Errors need to be corrected an
the submission file should be re-submitted with a new Pull Request.</p>

<p><img src="/media/submission/13_failure.png" alt="Workflow Failure" /></p>

<p>To determine why the check failed, click on the Details button on the right.  This will bring up Various Error Messages</p>

<h5 id="example-error-1">Example Error 1</h5>

<p><img src="/media/submission/16_Path_error.png" alt="Workflow Failure" /></p>

<p>In this example, we see that one of our edge identifiers in the <code class="language-plaintext highlighter-rouge">'target_id'</code> position for the path
<code class="language-plaintext highlighter-rouge">cortisone acetate - Keratitis</code> is not present in the listed nodes.</p>

<h5 id="example-error-2">Example Error 2</h5>

<p>Here we have another error, this time the compiler cannot read the <code class="language-plaintext highlighter-rouge">submission.yaml</code> file. It describes what line
number is causing an error.</p>

<p><img src="/media/submission/14_error_message.png" alt="Error Message" /></p>

<p>When we check the file, we see that the line has an identifier with an extra space within it, preventing the YAML
parser from correctly reading the file.</p>

<p><img src="/media/submission/15_Line_number.png" alt="Problem Line" /></p>

<hr />

<h2 id="updates">Updates</h2>

<h3 id="updating-an-existing-path">Updating an existing path</h3>

<p>Similar to <a href="#submitting-new-paths">submission</a>, updates to existing paths are made via the <code class="language-plaintext highlighter-rouge">submission.yaml</code> file. As this
 <code class="language-plaintext highlighter-rouge">submission.yaml</code> file will be constantly reset to empty after every submission, it is <strong>highly recommended</strong> that you work in a
separate file locally while curating and copy or rename this file to <code class="language-plaintext highlighter-rouge">submission.yaml</code> when ready to commit
changes and submit a Pull Request.</p>

<h4 id="path-identifier">Path Identifier</h4>

<p>To perform an update, the <code class="language-plaintext highlighter-rouge">Path ID</code> must be included in the <code class="language-plaintext highlighter-rouge">submission.yaml</code> file for hte path that is to be updated.
The value of a <code class="language-plaintext highlighter-rouge">Path ID</code> is automatically generated with the submission of each new path, and can be found on the path’s
webpage.</p>

<p><img src="/media/update_records/1_path_id.png" alt="Path Identifier" /></p>

<p>The identifier for the path should be included as an <code class="language-plaintext highlighter-rouge">_id</code> field under the <code class="language-plaintext highlighter-rouge">graph</code> field in the submission. See the (truncated)
example below of the path pictured above for the precise location of the <code class="language-plaintext highlighter-rouge">_id</code> field.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-   directed: true
    graph:
        _id: DB00704_MESH_D000437_1
        disease: Alcoholism
        disease_mesh: MESH:D000437
        drug: Naltrexone
        drug_mesh: MESH:D009270
        drugbank: DB:DB00704
    links:
    -   key: decreases activity of
        source: MESH:D009270
        target: UniProt:P41145
    -   key: molecularly interacts with
        source: UniProt:P41145
        target: UniProt:P01213
    -   key: positively correlated with
        source: UniProt:P01213
        target: HP:0030858
...
</code></pre></div></div>

<h4 id="update-details">Update details</h4>

<p>The update process is similar to the <a href="#submitting-new-paths">submission</a> process, performing the same validation checks and
producing the same error when a problem. If unfamiliar with this process, please see the detailed section above.</p>

<p>Updates may be performed as a batch (multiple updates simultaneously) however, they may not be performed at the same time
as submission of new paths. Those must be included in a separate Pull Request. Adding new paths at the same time as updating
existing paths will produce an error.</p>

<h2 id="deletion">Deletion</h2>

<h3 id="deleting-an-existing-path">Deleting an existing path</h3>

<p>Deletion of paths is handled through the deprecation of identifiers. To delete a path,
first find the <code class="language-plaintext highlighter-rouge">Path ID</code> (see <a href="#path-identifier">Path Identifier</a>) then submit a pull request
to <code class="language-plaintext highlighter-rouge">utils/deprecated_ids.txt</code> with the identifers you wish to deprecate <strong>added to the
end of the file</strong> one identifier per line. Please <strong>do not delete</strong> any identifies from this file.</p>

<p>After accepting the merge, this path will be removed from the database and the website, and this identifier
will be skipped on subsequent paths for a given indication (e.g. if <code class="language-plaintext highlighter-rouge">DB00704_MESH_D000437_1</code> becomes
deprecated, then a new paths is submitted for <code class="language-plaintext highlighter-rouge">DB:DB00704</code>, <code class="language-plaintext highlighter-rouge">MESH:D000437</code>, the new path will be given the next available identifier <code class="language-plaintext highlighter-rouge">DB00704_MESH_D000437_2</code>).</p>



    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2023 Su Lab. All rights reserved. <br />
 Site last generated: Jul 5, 2023 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RM54RDZ3XS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RM54RDZ3XS');
</script>



</html>
